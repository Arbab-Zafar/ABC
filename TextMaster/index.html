<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Text Master</title>
    <style>
        body {
            margin: 0px;
            padding: 0px;
            font-family: Georgia, 'Times New Roman', Times, serif;
        }

        h2,
        p {
            text-align: center;
        }

        .flex {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .btnDiv {
            margin-top: 30px;
            width: 98vw;
            flex-wrap: wrap;
            height: 30vh;
        }

        button {
            outline: none;
            border: 1.5px solid black;
            border-radius: 7px;
            padding: 9px;
            font-size: 15px;
            margin: 10px;
        }

        #lowerCase:hover {
            background-color: rgb(54, 54, 196);
            color: white;
        }

        #upperCase:hover {
            background-color: rgb(67, 63, 63);
            color: white;
        }

        #removeSpaces:hover {
            background-color: rgb(2, 128, 59);
            color: white;
        }

        #removeAllSpaces:hover {
            background-color: rgb(128, 76, 2);
            color: white;
        }

        #removeWord:hover {
            background-color: rgb(155, 155, 21);
            color: white;
        }

        #makeFirstLetterCapital:hover {
            background-color: rgb(21, 146, 155);
            color: white;
        }

        #capitalize:hover {
            background-color: rgb(234, 27, 134);
            color: white;
        }

        #lowerCase {
            color: rgb(54, 54, 196);
        }

        #upperCase {
            color: rgb(67, 63, 63);
        }

        #removeSpaces {
            color: rgb(2, 128, 59);
        }

        #removeAllSpaces {
            color: rgb(128, 76, 2);
        }

        #removeWord {
            color: rgb(155, 155, 21);
        }

        #makeFirstLetterCapital {
            color: rgb(21, 146, 155);
        }

        #capitalize {
            color: rgb(234, 27, 134);
        }
    </style>
</head>

<body>
    <h2>Text Master</h2>
    <p>Edit your text as you want!!</p>
    <div class="flex" style="flex-direction: column;">
        <textarea name="" id="textarea" cols="150" rows="10"></textarea>
        <span id="charCount"></span>
        <span id="wordCount"></span>
    </div>
    <div class="flex btnDiv">
        <button id="lowerCase">To Lower Case</button>
        <button id="upperCase">To Upper Case</button>
        <button id="removeAllSpaces">Remove All Spaces</button>
        <button id="removeSpaces">Remove Extra Spaces</button>
        <button id="removeWord">Remove any word</button>
        <button id="makeFirstLetterCapital">Capitalize the first letter after each full stop</button>
        <button id="capitalize">Capitalize the first letter of each word</button>
    </div>
    <script>
        let lowerCaseBtn = document.querySelector("#lowerCase");
        let upperCaseBtn = document.querySelector("#upperCase");
        let removeSpacesBtn = document.querySelector("#removeSpaces");
        let removeAllSpacesBtn = document.querySelector("#removeAllSpaces");
        let removeWordBtn = document.querySelector("#removeWord");
        let makeFirstLetterCapital = document.querySelector("#makeFirstLetterCapital");
        let capitalize = document.querySelector("#capitalize");
        let textarea = document.querySelector("#textarea");
        let charCount = document.querySelector("#charCount")
        let wordCount = document.querySelector("#wordCount")
        lowerCaseBtn.addEventListener("click", function () {
            textarea.value = textarea.value.toLowerCase();
        })
        upperCaseBtn.addEventListener("click", function () {
            textarea.value = textarea.value.toUpperCase();
        })
        removeSpacesBtn.addEventListener("click", function () {
            // https://stackoverflow.com/questions/16974664/how-to-remove-the-extra-spaces-in-a-string
            textarea.value = textarea.value.replace(/\s{2,}/g, ' ').trim()
        })
        removeAllSpacesBtn.addEventListener("click", function () {
            textarea.value = textarea.value.replaceAll(" ", "");
        })
        removeWordBtn.addEventListener("click", function () {
            let b = prompt("Enter the word which is to be removed:")
            textarea.value = textarea.value.replaceAll(b, "")

        })
        makeFirstLetterCapital.addEventListener("click", function () {
            let mySentence = textarea.value;
            let words = mySentence.split(".");
            for (let i = 0; i < words.length; i++) {
                console.log("Inside OUTER LOOP")
                if (words[i][0] == " ") {
                    for (let e = 0; e < words[i].length; e++) {
                        console.log("Inside INNER LOOP")
                        if (words[i][e] != " ") {
                            words[i] = words[i].substr(0, e) + words[i][e].toUpperCase() + words[i].substr(e + 1);
                            break;
                        }
                    }
                }
                else {
                    words[i] = words[i][0].toUpperCase() + words[i].substr(1);
                }
            }
            words = JSON.stringify(words);
            words = words.replaceAll("[", "");
            words = words.replaceAll("]", "");
            words = words.replaceAll(",", ".");
            words = words.replaceAll('"', '');
            console.log(words)
            textarea.value = words
        })
        capitalize.addEventListener("click", function () {
            let mySentence = textarea.value;
            let words = mySentence.split(" ");
            console.log(words)
            for (let i = 0; i < words.length; i++) {
                console.log("Inside OUTER LOOP")
                if (words[i] == "") {
                    for (let e = 0; e < words[i].length; e++) {
                        console.log("Inside INNER LOOP")
                        if (words[i][e] != "") {
                            words[i] = words[i].substr(0, e) + words[i][e].toUpperCase() + words[i].substr(e + 1);
                            break;
                        }
                    }
                }
                else {
                    words[i] = words[i][0].toUpperCase() + words[i].substr(1);
                }
            }
            words = JSON.stringify(words);
            words = words.replaceAll("[", "");
            words = words.replaceAll("]", "");
            words = words.replaceAll(",", " ");
            words = words.replaceAll('"', '');
            console.log(words)
            textarea.value = words
        })
        textarea.addEventListener("input", function () {
            charCount.innerHTML = `Charcters: ${textarea.value.length}`
            //Counting Words
            let newsen = textarea.value.replace(/\s{2,}/g, ' ').trim()
            let wordsss = newsen.split(" ");
            wordCount.innerHTML = wordsss.length
        })
    </script>
</body>

</html>